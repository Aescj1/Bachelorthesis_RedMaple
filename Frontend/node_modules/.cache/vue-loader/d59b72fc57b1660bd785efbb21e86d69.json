{"remainingRequest":"C:\\Users\\Jan\\Desktop\\Bachelorthesis_RedMaple\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Jan\\Desktop\\Bachelorthesis_RedMaple\\Frontend\\src\\components\\NgsFormular.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Jan\\Desktop\\Bachelorthesis_RedMaple\\Frontend\\src\\components\\NgsFormular.vue","mtime":1552923641071},{"path":"C:\\Users\\Jan\\Desktop\\Bachelorthesis_RedMaple\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552923599220},{"path":"C:\\Users\\Jan\\Desktop\\Bachelorthesis_RedMaple\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1552923596446},{"path":"C:\\Users\\Jan\\Desktop\\Bachelorthesis_RedMaple\\Frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1552923637975},{"path":"C:\\Users\\Jan\\Desktop\\Bachelorthesis_RedMaple\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552923599220},{"path":"C:\\Users\\Jan\\Desktop\\Bachelorthesis_RedMaple\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1552923637635}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n  import {bus} from '../main.js'    \n  import axios from 'axios'\n\n\nexport default{\n\n     created () {\n         bus.$on('editedIndex', (data) =>{\n             this.editedIndex = data;\n         });\n         bus.$on('editedPatient', (data) =>{\n             this.editedPatient = data;\n         });\n         bus.$on('openFormular', (data) =>{\n             this.dialog = data;\n         });\n    },\n    data:() =>({\n        patId:'',\n        editedIndex: -1,\n        dialog: false,\n        editedPatient: {\n        bactNr: '',\n        wiederholung:'',\n        infOldList: '',\n        altId: '',\n        priority:'',\n        pathogen: '',\n        lastName: '',\n        firstName:'',\n        birthdate: '',\n        entry: '',\n        abnahme: '',\n        sender: '',\n        station: '',\n        editing: '',\n        material: '',\n        ngsProject: '',\n        dnaPrepDate: '',\n        dnaKonz: '',\n        dnaVisum: '',\n        runNr: '',\n        ngsNr: '',\n        libType: '',\n        libDate: '',\n        libVisum: '',\n        seqDate: '',\n        ngsMachine: '',\n        qualityVisum: '',\n        pubID: '',\n      },\n      \n    }),\n    methods:{\n              close () {\n        this.dialog = false\n        setTimeout(() => {\n          this.editedPatient = Object.assign({}, this.Patient)\n          this.editedIndex = -1\n        }, 300)\n      },\n      onSubmit(){\n        const newPatient = {\n          firstName: this.editedPatient.firstName,\n          lastName: this.editedPatient.lastName,\n          birthdate:this.editedPatient.birthdate\n        }\n        \n        axios.post('http://147.87.118.201:3000/api/TblPatients', newPatient)\n          .then(ack1 =>{\n            axios.get('http://147.87.118.201:3000/api/TblPatients/findOne?filter={\"where\":{\"and\":[{\"firstName\":\"'+this.editedPatient.firstName+'\"},{\"lastName\":\"'+this.editedPatient.lastName+'\"}]}}')\n            .then(res1 => {\n              console.log(res1)\n              this.patId = res1.data.patientId;\n              const newProbe ={\n                patientId: this.patId,\n                einsender: this.editedPatient.sender,\n                station: this.editedPatient.station,\n                eingangDatum: this.editedPatient.entry,\n                material: this.editedPatient.material\n              } \n            axios.post('http://147.87.118.201:3000/api/TblProbeEingangs', newProbe)\n                .then(ack2 =>{\n                  axios.get('http://147.87.118.201:3000/api/TblProbeEingangs/findOne?filter={\"where\":{\"patientId\":\"'+this.patId+'\"}}')\n                  .then(res2 =>{\n                    console.log(res2)\n                    const newNgs ={\n                      probeId:res2.data.probeId,\n                      bactNr: this.editedPatient.bactNr,\n                      wiederholung: this.editedPatient.wiederholung,\n                      pathogenId: this.editedPatient.pathogen,\n                      publicIdentifier: this.editedPatient.pubID,\n                      priority: this.editedPatient.priority\n                    } \n                    axios.post('http://147.87.118.201:3000/api/TblNgs', newNgs)\n                    .then(ack3=>{\n                      console.log(ack3)\n                    })\n                  })\n                })\n            })\n          })\n          .catch(error => console.log(error))\n          \n        this.close();\n        this.save();\n        },\n      \n      // else statement = wen neuer Pat, if = editedPat. hier muss index und Pat übergeben werden.\n      save () {\n        if (this.editedIndex > -1) {\n          bus.$emit('patientHasChanged',this.editedPatient)\n\n         // Object.assign(this.patients[this.editedIndex], this.editedPatient)\n        } else {\n          bus.$emit('newPatientCreated',this.editedPatient)\n\n         // this.patients.push(this.editedPatient)\n        }\n        this.close()\n      }\n    }\n}\n",{"version":3,"sources":["NgsFormular.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"NgsFormular.vue","sourceRoot":"src\\components","sourcesContent":["<template>\r\n<v-dialog v-model=\"dialog\" max-width=\"1000px\">\r\n        <v-card>\r\n          <v-card-title>Dataset Formular </v-card-title>\r\n\r\n          <v-card-text>\r\n            <v-container grid-list-md>\r\n              <v-layout wrap>\r\n                    <v-flex> \r\n                  <v-text-field v-model=\"editedPatient.bactNr\" label=\"Bact Nummer*\" required></v-text-field>\r\n                </v-flex>\r\n                <v-flex> \r\n                  <v-text-field v-model=\"editedPatient.wiederholung\" label=\"Wiederholung*\" required></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.altId\" label=\"alternative ID\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.priority\" label=\"Priority*\" required></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.pathogen\" label=\"Pathogen (g)*\" required></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.lastName\" label=\"lastName*\" required></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.firstName\" label=\"fistName*\" required></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.birthdate\" label=\"Geburtsdatum*\" required></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.entry\" label=\"Eingang*\" required></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.abnahme\" label=\"Abnahme\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.sender\" label=\"Einsender*\" required></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.station\" label=\"Station*\" required></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.editing\" label=\"Bearbeitungsdatum\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.material\" label=\"Material*\" required></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.ngsProject\" label=\"NGS - Projekt\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.dnaPrepDate\" label=\"DNA Vorbereitungsdatum\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.dnaKonz\" label=\"DNA Konzentration\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.dnaVisum\" label=\"DNA Visum\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.runNr\" label=\"Run NR\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.ngsNr\" label=\"NGS Nummer\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.libType\" label=\"Librarytype\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.libDate\" label=\"Library date\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.libVisum\" label=\"Library Visum\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.seqDate\" label=\"Sequenzierungs Datum\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.ngsMachine\" label=\"NGS Maschine\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.qualityVisum\" label=\"Qualitäts Visum\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.infOldList\" label=\"Information Alteliste\"></v-text-field>\r\n                </v-flex>\r\n                <v-flex xs12 sm6 md4>\r\n                  <v-text-field v-model=\"editedPatient.pubID\" label=\"Public ID*\" required></v-text-field>\r\n                </v-flex>\r\n                <v-spacer></v-spacer>\r\n                <v-card-actions>\r\n                    <v-btn color=\"blue darken-1\"  @click=\"close\">Cancel</v-btn>\r\n                    <v-btn color=\"blue darken-1\"  @click=\"onSubmit\">Save</v-btn>\r\n                </v-card-actions>\r\n              </v-layout>\r\n            </v-container>\r\n          </v-card-text>\r\n\r\n        </v-card>\r\n      </v-dialog>\r\n</template>\r\n\r\n<script>\r\n  import {bus} from '../main.js'    \r\n  import axios from 'axios'\r\n\r\n\r\nexport default{\r\n\r\n     created () {\r\n         bus.$on('editedIndex', (data) =>{\r\n             this.editedIndex = data;\r\n         });\r\n         bus.$on('editedPatient', (data) =>{\r\n             this.editedPatient = data;\r\n         });\r\n         bus.$on('openFormular', (data) =>{\r\n             this.dialog = data;\r\n         });\r\n    },\r\n    data:() =>({\r\n        patId:'',\r\n        editedIndex: -1,\r\n        dialog: false,\r\n        editedPatient: {\r\n        bactNr: '',\r\n        wiederholung:'',\r\n        infOldList: '',\r\n        altId: '',\r\n        priority:'',\r\n        pathogen: '',\r\n        lastName: '',\r\n        firstName:'',\r\n        birthdate: '',\r\n        entry: '',\r\n        abnahme: '',\r\n        sender: '',\r\n        station: '',\r\n        editing: '',\r\n        material: '',\r\n        ngsProject: '',\r\n        dnaPrepDate: '',\r\n        dnaKonz: '',\r\n        dnaVisum: '',\r\n        runNr: '',\r\n        ngsNr: '',\r\n        libType: '',\r\n        libDate: '',\r\n        libVisum: '',\r\n        seqDate: '',\r\n        ngsMachine: '',\r\n        qualityVisum: '',\r\n        pubID: '',\r\n      },\r\n      \r\n    }),\r\n    methods:{\r\n              close () {\r\n        this.dialog = false\r\n        setTimeout(() => {\r\n          this.editedPatient = Object.assign({}, this.Patient)\r\n          this.editedIndex = -1\r\n        }, 300)\r\n      },\r\n      onSubmit(){\r\n        const newPatient = {\r\n          firstName: this.editedPatient.firstName,\r\n          lastName: this.editedPatient.lastName,\r\n          birthdate:this.editedPatient.birthdate\r\n        }\r\n        \r\n        axios.post('http://147.87.118.201:3000/api/TblPatients', newPatient)\r\n          .then(ack1 =>{\r\n            axios.get('http://147.87.118.201:3000/api/TblPatients/findOne?filter={\"where\":{\"and\":[{\"firstName\":\"'+this.editedPatient.firstName+'\"},{\"lastName\":\"'+this.editedPatient.lastName+'\"}]}}')\r\n            .then(res1 => {\r\n              console.log(res1)\r\n              this.patId = res1.data.patientId;\r\n              const newProbe ={\r\n                patientId: this.patId,\r\n                einsender: this.editedPatient.sender,\r\n                station: this.editedPatient.station,\r\n                eingangDatum: this.editedPatient.entry,\r\n                material: this.editedPatient.material\r\n              } \r\n            axios.post('http://147.87.118.201:3000/api/TblProbeEingangs', newProbe)\r\n                .then(ack2 =>{\r\n                  axios.get('http://147.87.118.201:3000/api/TblProbeEingangs/findOne?filter={\"where\":{\"patientId\":\"'+this.patId+'\"}}')\r\n                  .then(res2 =>{\r\n                    console.log(res2)\r\n                    const newNgs ={\r\n                      probeId:res2.data.probeId,\r\n                      bactNr: this.editedPatient.bactNr,\r\n                      wiederholung: this.editedPatient.wiederholung,\r\n                      pathogenId: this.editedPatient.pathogen,\r\n                      publicIdentifier: this.editedPatient.pubID,\r\n                      priority: this.editedPatient.priority\r\n                    } \r\n                    axios.post('http://147.87.118.201:3000/api/TblNgs', newNgs)\r\n                    .then(ack3=>{\r\n                      console.log(ack3)\r\n                    })\r\n                  })\r\n                })\r\n            })\r\n          })\r\n          .catch(error => console.log(error))\r\n          \r\n        this.close();\r\n        this.save();\r\n        },\r\n      \r\n      // else statement = wen neuer Pat, if = editedPat. hier muss index und Pat übergeben werden.\r\n      save () {\r\n        if (this.editedIndex > -1) {\r\n          bus.$emit('patientHasChanged',this.editedPatient)\r\n\r\n         // Object.assign(this.patients[this.editedIndex], this.editedPatient)\r\n        } else {\r\n          bus.$emit('newPatientCreated',this.editedPatient)\r\n\r\n         // this.patients.push(this.editedPatient)\r\n        }\r\n        this.close()\r\n      }\r\n    }\r\n}\r\n</script>"]}]}